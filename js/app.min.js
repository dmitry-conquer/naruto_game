(()=>{"use strict";let e;const t={initModal(){document.addEventListener("click",(function(o){if(o.target.closest("[data-modal]")){const l=o.target.closest("[data-modal]").dataset.modal;if(l){const n=document.getElementById(l),a=(n.querySelector("._modal-body"),n.querySelector("._modal-content"));e=o.target,t.openModal(n,a)}}if(o.target.closest("._close-trigger")){const l=o.target.closest("._modal-wrapper"),n=(l.querySelector("._modal-body"),l.querySelector("._modal-content"));t.closeModal(l,n,e)}}))},openModalIf(o){if(o){const l=document.getElementById(o),n=(l.querySelector("._modal-body"),l.querySelector("._modal-content"));e=document.activeElement,t.openModal(l,n)}},openModal(e,o){document.body.style.paddingRight=`${t.scrollbarWidth()}px`,document.body.classList.add("_lock"),e.classList.add("_show-modal"),o.classList.add("_show-modal"),t.tabLoopControl(e)},closeModal(e,t,o){document.body.classList.remove("_lock"),document.body.style.paddingRight="0px",document.querySelector(".header__wrapper")&&(document.querySelector(".header__wrapper").style.paddingRight="0px"),e.classList.remove("_show-modal"),t.classList.remove("_show-modal"),o&&o.focus()},tabLoopControl(e){const t=e.querySelectorAll("a, button, input, textarea, select"),o=t[0],l=t[t.length-1];e.addEventListener("keydown",(function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===o&&(e.preventDefault(),l.focus()):document.activeElement===l&&(e.preventDefault(),o.focus()))}))},scrollbarWidth(){const e=parseInt(document.documentElement.clientWidth);return parseInt(window.innerWidth)-e}},o=t.initModal,l=t.openModalIf;document.addEventListener("DOMContentLoaded",(function(){console.log("%cЗроблено з натхненням! %chttps://www.instagram.com/dmitry_conquer/","color: #8AC6E8; font-size: 14px; padding: 10px 0;","color: blue; font-size: 11px; padding: 5px 0;"),o(),l("modal-start");const e=document.querySelectorAll(".hole__hero"),t=document.querySelector(".app__stats"),n=document.querySelector(".modal__result span"),a=(document.querySelector(".app__start"),document.querySelectorAll(".level__item input")),c=document.querySelector(".modal__time input"),d=document.querySelector("audio");let r,s=0,u=!1;function i(e){const t=e[Math.floor(Math.random()*e.length)];return t==r?i(e):(r=t,t)}function m(){const t=i(e);let o;a.forEach((e=>{if(e.checked){const n=e.dataset.levelValue.split(",");t=n[0],l=n[1],o=Math.round(Math.random()*(l-t)+t)}var t,l})),t.classList.add("_active-hero"),setTimeout((()=>{t.classList.remove("_active-hero"),u&&m()}),o)}document.addEventListener("click",(e=>{console.log(1e3*c.value),e.target.closest(".modal__start")&&(0==u&&(s=0,t.textContent=s,n.textContent=s,m(),u=!u),setTimeout((()=>{u=!u,l("modal-result"),t.textContent=s}),""==c.value?1e4:1e3*c.value)),e.target.closest(".hole__hero")&&(d.play(),d.currentTime=0,e.target.closest(".hole__hero").classList.remove("_active-hero"),s++,t.textContent=s,n.textContent=s)}))}))})();